<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inventory Manager</title>
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      padding: 4px;
    }
    .hidden {
      display: none;
    }
    input.qty-input {
      width: 4ch;
    }
  </style>
</head>
<body>
  <h1>Inventory Manager</h1>
  <button onclick="exportToCSV()">Export</button>
  <button onclick="importFromCSV()">Import</button>
  <button onclick="showInventorySection()">Inventory</button>
  <button onclick="showDiscountSection()">Discounts</button>  <section id="inventory-section">
    <h2>Add Product</h2>
    <form id="product-form">
      <input type="text" id="product-name" placeholder="Product Name" required />
      <select id="product-gender">
        <option value="Men">Men</option>
        <option value="Women">Women</option>
        <option value="Unisex">Unisex</option>
      </select>
      <select id="product-category">
        <option value="Tops">Tops</option>
        <option value="Bottoms">Bottoms</option>
        <option value="Accessories">Accessories</option>
      </select>
      <button type="submit">Add Product</button>
    </form><div id="product-table"></div>

  </section>  <section id="discount-section" class="hidden">
    <h2>Add Discount</h2>
    <form id="discount-form">
      <input type="text" id="discount-name" placeholder="Discount Name" required />
      <select id="discount-type">
        <option value="Percentage">Percentage</option>
        <option value="Flat">Flat</option>
      </select>
      <input type="number" id="discount-value" placeholder="Value" required />
      <button type="submit">Add Discount</button>
    </form><div id="discount-table"></div>

  </section>  <script>
  const products = [];
  const discounts = [];

  function switchSection(section) {
    document.getElementById('inventory-section').style.display = section === 'inventory' ? 'block' : 'none';
    document.getElementById('discounts-section').style.display = section === 'discounts' ? 'block' : 'none';
  }

  // PRODUCT FUNCTIONS
  function addProduct() {
    const name = document.getElementById('product-name').value;
    const price = document.getElementById('product-price').value;
    const stock = document.getElementById('product-stock').value;

    if (!name || price === '' || stock === '') return;

    products.push({ name, price: parseFloat(price), stock: parseInt(stock) });
    renderProductTable();

    document.getElementById('product-name').value = '';
    document.getElementById('product-price').value = '';
    document.getElementById('product-stock').value = '';
  }

  function renderProductTable() {
    const tbody = document.querySelector('#product-table tbody');
    tbody.innerHTML = '';
    products.forEach((product, index) => {
      const row = document.createElement('tr');

      row.innerHTML = `
        <td><input value="${product.name}" onchange="updateProduct(${index}, 'name', this.value)"></td>
        <td><input type="number" value="${product.price}" onchange="updateProduct(${index}, 'price', this.value)"></td>
        <td><input type="number" value="${product.stock}" onchange="updateProduct(${index}, 'stock', this.value)"></td>
        <td><button onclick="deleteProduct(${index})">Delete</button></td>
      `;
      tbody.appendChild(row);
    });
  }

  function updateProduct(index, key, value) {
    if (key === 'price') value = parseFloat(value);
    if (key === 'stock') value = parseInt(value);
    products[index][key] = value;
  }

  function deleteProduct(index) {
    products.splice(index, 1);
    renderProductTable();
  }

  // DISCOUNT FUNCTIONS
  function addDiscount() {
    const type = document.getElementById('discount-type').value;
    const amount = document.getElementById('discount-amount').value;

    if (!amount || isNaN(amount)) return alert('Please enter a valid amount.');

    const parsedAmount = parseFloat(amount);
    discounts.push({ type, amount: parsedAmount });
    renderDiscountTable();

    document.getElementById('discount-type').value = '%';
    document.getElementById('discount-amount').value = '';
  }

  function renderDiscountTable() {
    const tbody = document.querySelector('#discount-table tbody');
    tbody.innerHTML = '';
    discounts.forEach((discount, index) => {
      const row = document.createElement('tr');

      row.innerHTML = `
        <td>
          <select onchange="updateDiscount(${index}, 'type', this.value)">
            <option value="%" ${discount.type === '%' ? 'selected' : ''}>%</option>
            <option value="$" ${discount.type === '$' ? 'selected' : ''}>$</option>
          </select>
        </td>
        <td><input type="number" value="${discount.amount}" onchange="updateDiscount(${index}, 'amount', this.value)"></td>
        <td><button onclick="deleteDiscount(${index})">Delete</button></td>
      `;

      tbody.appendChild(row);
    });
  }

  function updateDiscount(index, key, value) {
    if (key === 'amount') {
      const parsed = parseFloat(value);
      if (isNaN(parsed)) return alert('Invalid amount');
      discounts[index][key] = parsed;
    } else {
      discounts[index][key] = value;
    }
  }

  function deleteDiscount(index) {
    discounts.splice(index, 1);
    renderDiscountTable();
  }

  // Init
  switchSection('inventory');
</script>
</body>
</html>